!function(e){e.$fuse$=e,e.global("__fsbx_css",function(t,n){if(!e.isServer){var r=t.replace(/[\.\/]+/g,"-");"-"===r.charAt(0)&&(r=r.substring(1));var o=document.getElementById(r);if(o)n&&(o.innerHTML=n);else{var i=document.createElement(n?"style":"link");i.id=r,i.type="text/css",n?i.innerHTML=n:(i.rel="stylesheet",i.href=t),document.getElementsByTagName("head")[0].appendChild(i)}}}),e.on("async",function(t){if(!e.isServer)return/\.css$/.test(t)?(__fsbx_css(t),!1):void 0}),e.pkg("default",{},function(e){e.file("index.js",function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=t("react"),a=i(s),u=t("react-dom"),l=i(u);t("./styles/main.scss");var c=t("./App"),f=i(c);l.default.render(a.default.createElement(f.default,null),document.getElementById("root"))}),e.file("styles/main.scss",function(e,t,n,r,o){__fsbx_css("styles/main.css")}),e.file("App.js",function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=t("react"),p=i(f),d=t("mobx-react"),b=t("./store"),h=i(b),y=t("./router"),m=i(y),w=(0,d.observer)(l=function(e){function t(){return s(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){return p.default.createElement(m.default,{store:h.default})}}]),t}(f.Component))||l;e.default=w}),e.file("store/index.js",function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(e,"__esModule",{value:!0}),e.PostStore=e.Post=void 0;var l,c,f,p,d,b,h,y,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=t("axios"),g=i(w),v=t("mobx"),O=t("front-matter"),_=i(O),j=t("../util"),P=t("./api"),S=t("markdown-it")({}),E=e.Post=(l=function(){function e(t){a(this,e),s(this,"name",c,this),s(this,"sha",f,this),s(this,"size",p,this),s(this,"body",d,this),s(this,"attributes",b,this),Object.assign(this,t)}return m(e,[{key:"title",get:function(){return this.name?this.name.replace(/\.md$/,"").replace(/^\d{4}-\d{1,2}-\d{1,2}-/,""):""}},{key:"date",get:function(){return/^\d{4}-\d{1,2}-\d{1,2}/.exec(this.name)?/^\d{4}-\d{1,2}-\d{1,2}/.exec(this.name)[0]:""}},{key:"html",get:function(){return this.body?S.render(this.body):""}}]),m(e,[{key:"fetchDetail",value:function(){var e=this;return new Promise(function(t,n){var r="post."+e.sha,o=void 0;e.body&&t(e),window.sessionStorage&&window.sessionStorage.hasOwnProperty(r)?(o=JSON.parse(window.sessionStorage.getItem(r)),Object.assign(e,o),t(e)):g.default.get((0,P.getPostUrl)(e.sha),{headers:{Accept:"application/vnd.github.v3.raw"}}).then(function(n){o=(0,_.default)(n.data),console.log(o),Object.assign(e,o),window.sessionStorage&&window.sessionStorage.setItem(r,JSON.stringify(o)),t(e)},n)})}}]),e}(),c=u(l.prototype,"name",[v.observable],{enumerable:!0,initializer:null}),f=u(l.prototype,"sha",[v.observable],{enumerable:!0,initializer:null}),p=u(l.prototype,"size",[v.observable],{enumerable:!0,initializer:null}),d=u(l.prototype,"body",[v.observable],{enumerable:!0,initializer:null}),b=u(l.prototype,"attributes",[v.observable],{enumerable:!0,initializer:null}),u(l.prototype,"title",[v.computed],Object.getOwnPropertyDescriptor(l.prototype,"title"),l.prototype),u(l.prototype,"date",[v.computed],Object.getOwnPropertyDescriptor(l.prototype,"date"),l.prototype),u(l.prototype,"html",[v.computed],Object.getOwnPropertyDescriptor(l.prototype,"html"),l.prototype),u(l.prototype,"fetchDetail",[v.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchDetail"),l.prototype),l),x=e.PostStore=(h=function(){function e(){a(this,e),s(this,"posts",y,this)}return m(e,[{key:"fetchList",value:function(){var e=this;return new Promise(function(t,n){if(window.sessionStorage&&window.sessionStorage.hasOwnProperty("posts")){var r=JSON.parse(window.sessionStorage.getItem("posts"));e.posts=r.map(function(e){return new E(e)}),t(r)}else g.default.get((0,P.getListUrl)()).then(function(n){var r=n.data.map(function(e){return new E((0,j.objReduce)(e,["name","sha","size"]))});window.sessionStorage&&window.sessionStorage.setItem("posts",JSON.stringify(r)),e.posts=r,t(r)},n)})}}]),e}(),y=u(h.prototype,"posts",[v.observable],{enumerable:!0,initializer:function(){return[]}}),u(h.prototype,"fetchList",[v.action],Object.getOwnPropertyDescriptor(h.prototype,"fetchList"),h.prototype),h);e.default={postStore:new x}}),e.file("util.js",function(e,t,n,r,o){"use strict";function i(e,t){return Object.keys(e).filter(function(e){return-1!==t.indexOf(e)}).reduce(function(t,n){return t[n]=e[n],t},{})}function s(e){return e.replace(/\.md$/,"").replace(/^\d{4}-\d{1,2}-\d{1,2}-/,"")}function a(e){return/^\d{4}-\d{1,2}-\d{1,2}/.exec(e)?/^\d{4}-\d{1,2}-\d{1,2}/.exec(e)[0]:""}Object.defineProperty(e,"__esModule",{value:!0}),e.objReduce=i,e.onlyTitle=s,e.onlyDate=a}),e.file("store/api.js",function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPost=e.getList=e.getPostUrl=e.getListUrl=void 0;var s=t("axios"),a=i(s),u=t("../util"),l=t("../repo.json"),c=i(l),f=e.getListUrl=function(){return"https://api.github.com/repos/"+c.default.repo+"/contents/"+(c.default.path?c.default.path:"")+"?"+(c.default.branch?"ref="+c.default.branch:"")},p=e.getPostUrl=function(e){return"https://api.github.com/repos/"+c.default.repo+"/git/blobs/"+e};e.getList=function(){return new Promise(function(e,t){window.sessionStorage&&window.sessionStorage.hasOwnProperty("list")?e(JSON.parse(window.sessionStorage.getItem("list"))):a.default.get(f).then(function(t){var n=t.body;n=n.map(function(e){return(0,u.objReduce)(e,["name","sha","size"])}).map(function(e){return e.title=(0,u.onlyTitle)(e.name),e.date=(0,u.onlyDate)(e.name),e}),window.sessionStorage&&window.sessionStorage.setItem("list",JSON.stringify(n)),e(n)},t)})},e.getPost=function(e){return new Promise(function(t,n){var r="post."+e;window.sessionStorage&&window.sessionStorage.hasOwnProperty(r)?t(JSON.parse(window.sessionStorage.getItem(r))):a.default.get(p(e),{headers:{Accept:"application/vnd.github.v3.raw"}}).then(function(e){var t=e.body;window.sessionStorage&&window.sessionStorage.setItem(r,JSON.stringify(t))},n)})}}),e.file("repo.json",function(e,t,n,r,o){n.exports={blogTitle:"IniZio",repo:"IniZio/Thoughts",path:"posts",branch:null}}),e.file("router.js",function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=t("react"),u=i(a),l=t("react-router-dom"),c=t("./scenes/List"),f=i(c),p=t("./scenes/Post"),d=i(p);e.default=function(e){var t=e.store,n="pushState"in window.history;return u.default.createElement(l.BrowserRouter,{basename:"/",forceRefresh:!n},u.default.createElement("div",null,u.default.createElement(l.Route,{exact:!0,path:"/",component:function(){return u.default.createElement(f.default,{postStore:t.postStore})}}),u.default.createElement(l.Route,{path:"/post/:sha",component:function(e){return u.default.createElement(d.default,s({},e,{post:t.postStore.posts.filter(function(t){return t.sha===e.match.params.sha})[0]}))}})))}}),e.file("scenes/List/index.js",function(e,t,n,r,o){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=t("react"),f=function(e){return e&&e.__esModule?e:{default:e}}(c),p=t("mobx-react"),d=t("react-router-dom"),b=(t("../../store"),(0,p.observer)(u=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.postStore.fetchList()}},{key:"render",value:function(){var e=this.props.postStore.posts;return f.default.createElement("div",null,f.default.createElement("h1",null,"Post list"),f.default.createElement("ul",null,e.map(function(e){return f.default.createElement("li",{key:e.sha},f.default.createElement(d.Link,{to:"post/"+e.sha},e.name))})))}}]),t}(c.Component))||u);e.default=b}),e.file("scenes/Post/index.js",function(e,t,n,r,o){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,l,c,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=t("react"),d=function(e){return e&&e.__esModule?e:{default:e}}(p),b=t("mobx-react"),h=t("../../store"),y=(0,b.observer)((c=l=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.post.sha||(this.props.post.sha=this.props.match.params.sha),this.props.post.fetchDetail()}},{key:"render",value:function(){return d.default.createElement("div",null,this.props.post.sha?d.default.createElement("div",null,d.default.createElement("h1",null,this.props.post.title),d.default.createElement("article",{dangerouslySetInnerHTML:{__html:this.props.post.html}})):null)}}]),t}(p.Component),l.defaultProps={post:new h.Post({sha:""})},u=c))||u;e.default=y})}),e.import("default/index.js"),e.main("default/index.js")}(FuseBox);