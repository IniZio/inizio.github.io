<!DOCTYPE html>
<html lang="en">
    	<head>
	    <meta charset="utf-8"/>
	    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
	    <meta content="ie=edge" http-equiv="x-ua-compatible"/>
	    

	    <title>
	        Create a NPM project from scratch (I) - IniZio
	    </title>
	    <!--[if !IE 7]>
			<style type="text/css">
				#wrap {display:table;height:100%}
			</style>
		<![endif]-->
	    <!-- Font Awesome -->
	    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" rel="stylesheet"/>
	    <!-- Bootstrap core CSS -->
	    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
	    <!-- Material Design Bootstrap -->
	    <link href="/css/mdb.min.css" rel="stylesheet"/>
	    <!-- Your custom styles (optional) -->
	   
	    <!-- <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css" rel="stylesheet"/> -->
	    <link href="/css/syntax.css" rel="stylesheet"/>
	    
	    <link href="/css/animate.min.css" rel="stylesheet"/>
	    <!-- <link rel="stylesheet" type="text/css" href="/css/spectre.min.css"> -->
	    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootcards/1.0.0/css/bootcards-desktop.min.css">
	    <link href="/css/social-sharing.css" rel="stylesheet"/>
	    <link href="/css/style.css" rel="stylesheet"/>
	</head>
    <body>
        <header>
        </header>
        <main>
            <div class="row">
                <div class="col-md-6 col-md-offset-3 bootcards-cards">
                    <!-- <div class="container well"> -->
                    <div class="row text-xs-center WOW flipInX">
                        <h1 class="h1-responsive">
                            Create a NPM project from scratch (I)
                        </h1>
                        <p>
                            26 Aug 2016
                                
                        </p>
                    </div>
                    <hr class="extra-margins"/>
                    <div class="row">
                        <p>Uses Npm, Typescript, Angular2, Webpack</p>

<h1>Stuff I not sure about:</h1>

<ul>
<li>I think npm devdependencies are stuff that are used during developing and compiling the codes, while dependencies are for running the website?</li>
</ul>

<h1>Npm and typings</h1>

<p>Install Nodejs, NPM from official website. <a href="https://nodejs.org/">NodeJs</a></p>

<p>Open a new folder, run: <code>npm init</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">.
package.json
</code></pre></div>
<h1>Angular2</h1>

<p>Install some @angular files:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ npm i -S @angular/common @angular/compiler @angular/core @angular/forms @angular/http @angular/platform-browser @angular/platform-browser-dynamic @angular/platform-server @angular/router
</code></pre></div>
<h1>Webpack</h1>

<p>Install webpack and webpack-dev-server:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ npm i -D webpack webpack-dev-server webpack-merge
</code></pre></div>
<p>|Loader| Function|
|:-|:-|
|Webpack| Build tool that treats each file processing as loaders instead of pipes or tasks|
|Webpack-dev-server| a webpack server for hosting the project on localhost to debug|
|Webpack-merge|sometimes you will have multiple webpack configs for different platforms/stages e.g. mobile, electron, develop, production|</p>

<h2>Webpack config files</h2>

<p>I separated webpack into two parts: shared parts and platform/stage specific parts. Therefore webpack.config.js is just used to call them according to parameters</p>

<h4>webpack.config.js:</h4>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">switch</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">case</span> <span class="s1">'prod'</span><span class="err">:</span>
  <span class="k">case</span> <span class="s1">'production'</span><span class="err">:</span>
      <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./config/webpack.prod'</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">'test'</span><span class="err">:</span>
    <span class="k">case</span> <span class="s1">'testing'</span><span class="err">:</span>
        <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./config/webpack.test'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">'dev'</span><span class="err">:</span>
      <span class="k">case</span> <span class="s1">'development'</span><span class="err">:</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./config/webpack.dev'</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
  <span class="nl">default</span><span class="p">:</span>
<span class="p">}</span>
</code></pre></div>
<h4>webpack.common.js:</h4>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'webpack'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">helpers</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./helpers'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">autoprefixer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'autoprefixer'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">CopyWebpackPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'copy-webpack-plugin'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">HtmlWebpackPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'html-webpack-plugin'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">METADATA</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">isDevServer</span><span class="p">:</span> <span class="nx">helpers</span><span class="p">.</span><span class="nx">isWebpackDevServer</span><span class="p">()</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="nx">METADATA</span><span class="p">,</span>

  <span class="na">entry</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'vendor'</span><span class="p">:</span> <span class="s1">'./src/vendor.ts'</span><span class="p">,</span>
    <span class="s1">'main'</span><span class="p">:</span> <span class="s1">'./src/main.ts'</span>
  <span class="p">},</span>

  <span class="na">resolve</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">extensions</span><span class="p">:</span> <span class="p">[</span><span class="s1">''</span><span class="p">,</span> <span class="s1">'.ts'</span><span class="p">,</span> <span class="s1">'.js'</span><span class="p">,</span> <span class="s1">'.json'</span><span class="p">],</span>
    <span class="na">root</span><span class="p">:</span> <span class="nx">helpers</span><span class="p">.</span><span class="nx">root</span><span class="p">(</span><span class="s1">'src'</span><span class="p">),</span>
    <span class="na">modulesDirectories</span><span class="p">:</span> <span class="p">[</span><span class="s1">'node_modules'</span><span class="p">]</span>
  <span class="p">},</span>

  <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">preLoaders</span><span class="p">:</span> <span class="p">[{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">ts$/</span><span class="p">,</span>
      <span class="na">loader</span><span class="p">:</span> <span class="s1">'tslint-loader'</span><span class="p">,</span>
      <span class="na">exclude</span><span class="p">:</span> <span class="p">[</span><span class="nx">helpers</span><span class="p">.</span><span class="nx">root</span><span class="p">(</span><span class="s1">'node_modules'</span><span class="p">)]</span>
    <span class="p">}],</span>

    <span class="na">loaders</span><span class="p">:</span> <span class="p">[{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">ts$/</span><span class="p">,</span>
      <span class="c1">// loaders: ['awesome-typescript-loader', 'angular2-template-loader'],</span>
      <span class="na">loaders</span><span class="p">:</span> <span class="p">[</span><span class="s1">'ts-loader'</span><span class="p">,</span> <span class="s1">'angular2-template-loader'</span><span class="p">],</span>
      <span class="na">exclude</span><span class="p">:</span> <span class="p">[</span><span class="sr">/</span><span class="se">\.(</span><span class="sr">spec|e2e</span><span class="se">)\.</span><span class="sr">ts$/</span><span class="p">]</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">json$/</span><span class="p">,</span>
      <span class="na">loader</span><span class="p">:</span> <span class="s1">'json-loader'</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/</span><span class="p">,</span>
      <span class="na">loaders</span><span class="p">:</span> <span class="p">[</span><span class="s1">'to-string-loader'</span><span class="p">,</span> <span class="s1">'css-loader'</span><span class="p">,</span> <span class="s1">'postcss-loader'</span><span class="p">]</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">scss$/</span><span class="p">,</span>
      <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span><span class="p">,</span>
      <span class="na">loaders</span><span class="p">:</span> <span class="p">[</span><span class="s1">'raw-loader'</span><span class="p">,</span> <span class="s1">'sass-loader'</span><span class="p">,</span> <span class="s1">'postcss-loader'</span><span class="p">]</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">html$/</span><span class="p">,</span>
      <span class="na">loader</span><span class="p">:</span> <span class="s1">'raw-loader'</span><span class="p">,</span>
      <span class="na">exclude</span><span class="p">:</span> <span class="p">[</span><span class="nx">helpers</span><span class="p">.</span><span class="nx">root</span><span class="p">(</span><span class="s1">'src/index.html'</span><span class="p">)]</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.(</span><span class="sr">jpg|png|gif</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>
      <span class="na">loader</span><span class="p">:</span> <span class="s1">'file'</span>
    <span class="p">}],</span>
    <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
      <span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">optimize</span><span class="p">.</span><span class="nx">CommonsChunkPlugin</span><span class="p">({</span>
        <span class="na">name</span><span class="p">:</span> <span class="p">[</span><span class="s1">'polyfills'</span><span class="p">,</span> <span class="s1">'vendor'</span><span class="p">].</span><span class="nx">reverse</span><span class="p">()</span>
      <span class="p">}),</span>
      <span class="k">new</span> <span class="nx">CopyWebpackPlugin</span><span class="p">([{</span>
        <span class="na">from</span><span class="p">:</span> <span class="s1">'src/assets'</span><span class="p">,</span>
        <span class="na">to</span><span class="p">:</span> <span class="s1">'assets'</span>
      <span class="p">}]),</span>
      <span class="k">new</span> <span class="nx">HtmlWebpackPlugin</span><span class="p">({</span>
        <span class="na">template</span><span class="p">:</span> <span class="s1">'src/index.html'</span><span class="p">,</span>
        <span class="na">chunksSortMode</span><span class="p">:</span> <span class="s1">'dependency'</span>
      <span class="p">}),</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="na">postcss</span><span class="p">:</span> <span class="p">[</span><span class="nx">autoprefixer</span><span class="p">({</span>
    <span class="na">browsers</span><span class="p">:</span> <span class="p">[</span><span class="s1">'last 2 versions'</span><span class="p">]</span>
  <span class="p">})]</span>
<span class="p">}</span>

</code></pre></div>
                    </div>
                    <!-- </div> -->
                </div>
                <div class="col-md-2 col-md-offset-0 side-bar bootcards-list">
                    <div class="row">
    <div class="col-md-12">
        <!-- <div class="card text-xs-center">
            <div class="card-header">
                Author
            </div>
            <div class="card-block">
                <h4 class="card-title">
                    <a href="/life/2016/05/27/blog.html#contact">
                        IniZio
                    </a>
                </h4>
                <p>
                    Just a developer
                </p>
            </div>
        </div> -->
        <div class="github-card" data-github="inizio" data-width="400" data-height="" data-theme="default"></div>
        <script src="//cdn.jsdelivr.net/github-cards/latest/widget.js"></script>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header text-xs-center" style="">
                Categories
            </div>
            <div class="card-block">
                
                                       
                <div class="collection" data-name="Life">
                    <h4>
                        Life
                    </h4>
                    <!-- <h5>
                            1 post
                        </h5> -->
                    <ul>
                        
                                             
                                               
                                             
                                           
                                             
                                               
                        <li>
                            <a href="/life/2016/05/27/blog.html">
                                BLoG[0]?
                            </a>
                        </li>
                        
                                             
                                           
                    </ul>
                </div>
                
                                       
                <div class="collection" data-name="Study">
                    <h4>
                        Study
                    </h4>
                    <!-- <h5>
                            2 posts
                        </h5> -->
                    <ul>
                        
                                             
                                               
                                             
                                           
                                             
                                               
                        <li>
                            <a href="/study/2016/09/01/.html">
                                2016-09-01
                            </a>
                        </li>
                        
                                             
                                               
                        <li>
                            <a href="/study/2016/05/28/Study.html">
                                Blog["Study"][0]
                            </a>
                        </li>
                        
                                             
                                           
                    </ul>
                </div>
                
                                       
                <div class="collection" data-name="Development">
                    <h4>
                        Development
                    </h4>
                    <!-- <h5>
                            1 post
                        </h5> -->
                    <ul>
                        
                                             
                                               
                                             
                                           
                                             
                                               
                        <li>
                            <a href="/development/2016/05/31/pick-up-php-1.html">
                                Pick up PHP and codeigniter (1)
                            </a>
                        </li>
                        
                                             
                                           
                    </ul>
                </div>
                
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header text-xs-center" style="">
                Tags
            </div>
            <div class="card-block">
                
                    
                <a href="/search.html?tags=html5" style="text-decoration: underline; font-size: 13.5px">
                    html5
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=start" style="text-decoration: underline; font-size: 13.5px">
                    start
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=blog" style="text-decoration: underline; font-size: 13.5px">
                    blog
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=math" style="text-decoration: underline; font-size: 13.5px">
                    math
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=comp" style="text-decoration: underline; font-size: 13.5px">
                    comp
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=elec" style="text-decoration: underline; font-size: 13.5px">
                    elec
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=PHP" style="text-decoration: underline; font-size: 13.5px">
                    PHP
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=codeigniter" style="text-decoration: underline; font-size: 15.0px">
                    codeigniter
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=artfill" style="text-decoration: underline; font-size: 13.5px">
                    artfill
                </a>&nbsp;
                
                    
                <a href="/search.html?tags=QR_code" style="text-decoration: underline; font-size: 13.5px">
                    QR_code
                </a>&nbsp;
                
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header text-xs-center">
                Recent Posts
            </div>
            <div class="card-block">
                <ul>
                    
                    <li>
                        <a href="/study/2016/09/01/.html">
                            2016-09-01
                        </a>
                    </li>
                    
                    <li>
                        <a href="/2016/08/26/create-a-npm-project-from-scratch.html">
                            Create a NPM project from scratch (I)
                        </a>
                    </li>
                    
                    <li>
                        <a href="/2016/08/11/practice-angular2-and-scss-with-personal-knowledge-portal.html">
                            Practice Angular2 and scss with Personal Knowledge Portal
                        </a>
                    </li>
                    
                    <li>
                        <a href="/2016/06/23/qr-code-idea-for-artfillco.html">
                            QR code idea for Artfill.co
                        </a>
                    </li>
                    
                    <li>
                        <a href="/development/2016/05/31/pick-up-php-1.html">
                            Pick up PHP and codeigniter (1)
                        </a>
                    </li>
                    
                    <li>
                        <a href="/study/2016/05/28/Study.html">
                            Blog["Study"][0]
                        </a>
                    </li>
                    
                    <li>
                        <a href="/life/2016/05/27/blog.html">
                            BLoG[0]?
                        </a>
                    </li>
                    
                    <li>
                        <a href="/2015/11/16/hello-world.html">
                            你好，世界
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>

                </div>
            </div>
        </main>
        <!--Footer-->
<footer>
    <!-- <div class="col-lg-4 col-lg-offset-4">
        <div class="cuadro_intro_hover">
            <div class="caption">
                <div class="blur">
                </div>
                <div class="caption-text">
                    <h3 style="border-top:2px solid white; border-bottom:2px solid white; padding:10px;">
                        Share
                    </h3>
                    <p>
                        <a class="btn btn-facebook" href="https://www.facebook.com/sharer/sharer.php?u=inizio.gitlab.io//2016/08/26/create-a-npm-project-from-scratch.html" target="_blank" title="Share on Facebook">
                            <i class="fa fa-facebook">
                            </i>
                        </a>
                        <a class="btn btn-googleplus" href="https://plus.google.com/share?url=inizio.gitlab.io//2016/08/26/create-a-npm-project-from-scratch.html" target="_blank" title="Share on Google+">
                            <i class="fa fa-google-plus">
                            </i>
                        </a>
                        <a class="btn btn-reddit" href="http://reddit.com/submit?url=inizio.gitlab.io//2016/08/26/create-a-npm-project-from-scratch.html" target="_blank" title="Share on Reddit">
                            <i class="fa fa-reddit fa-fw">
                            </i>
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div> -->
    <!-- card approach -->
    <div class="col-md-2 col-md-offset-1 text-xs-center wow slideInUp" style="position: fixed;bottom: 0;">
        <div class="text-center">
            <!-- <a class="btn btn-social-icon btn-bitbucket"><i class="fa fa-bitbucket"></i></a> -->
            <!-- <a class="btn btn-social-icon btn-dropbox"><i class="fa fa-dropbox"></i></a> -->
            <a class="btn btn-social-icon btn-facebook" href="https://www.facebook.com/sharer/sharer.php?u=inizio.gitlab.io//2016/08/26/create-a-npm-project-from-scratch.html" target="_blank" title="Share this page on Facebook">
                <i class="fa fa-facebook">
                </i>
            </a>
            <!-- <a class="btn btn-social-icon btn-flickr"><i class="fa fa-flickr"></i></a> -->
            <!-- <a class="btn btn-social-icon btn-github"><i class="fa fa-github"></i></a> -->
            <a class="btn btn-social-icon btn-google-plus" href="https://plus.google.com/share?url=inizio.gitlab.io//2016/08/26/create-a-npm-project-from-scratch.html" target="_blank" title="Share this page on Google+">
                <i class="fa fa-google-plus">
                </i>
            </a>
            <a class="btn btn-social-icon btn-reddit" href="http://reddit.com/submit?url=inizio.gitlab.io//2016/08/26/create-a-npm-project-from-scratch.html" target="_blank" title="Share this page on Reddit">
                <i class="fa fa-reddit">
                </i>
            </a>
            <!-- <a class="btn btn-social-icon btn-instagram"><i class="fa fa-instagram"></i></a> -->
            <!-- <a class="btn btn-social-icon btn-linkedin"><i class="fa fa-linkedin"></i></a> -->
            <!-- <a class="btn btn-social-icon btn-pinterest"><i class="fa fa-pinterest"></i></a> -->
            <!-- <a class="btn btn-social-icon btn-tumblr"><i class="fa fa-tumblr"></i></a> -->
            <!-- <a class="btn btn-social-icon btn-twitter"><i class="fa fa-twitter"></i></a> -->
            <!-- <a class="btn btn-social-icon btn-vk"><i class="fa fa-vk"></i></a> -->
        </div>
    </div>
</footer>
<!--/.Footer-->
<!-- JQuery -->
<script src="/js/jquery-2.2.3.min.js" type="text/javascript">
</script>
<!-- Bootstrap tooltips -->
<script src="/js/tether.min.js" type="text/javascript">
</script>
<!-- Bootstrap core JavaScript -->
<script src="/js/bootstrap.min.js" type="text/javascript">
</script>
<!-- MDB core JavaScript -->
<!-- <script src="/js/mdb.min.js" type="text/javascript">
</script> -->
<script src="http://code.jquery.com/jquery-1.7.1.min.js" type="text/javascript">
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootcards/1.0.0/js/bootcards.min.js"></script>
<script>
    new WOW().init();
</script>
<script>
    $('#myTabs').bind('show', function(e) {  
    paneID = $(e.target).attr('href');
    src = $(paneID).attr('data-src');
    // if the iframe hasn't already been loaded once
    if($(paneID+" iframe").attr("src")=="")
    {
        $(paneID+" iframe").attr("src",src);
    }
});
</script>
<script>
    (function(window, document, undefined) {
    'use strict';

    // Search page URL without leading slash
    var SEARCH_PATH = 'search.html';

    var ready = function(fn) {
      if (document.readyState != 'loading'){
        fn();
      } else {
        document.addEventListener('DOMContentLoaded', fn);
      }
    }

    // Return an object of `key: value` pairs from the GET search string
    var parseSearchParameters = function(search) {
      var ret = {},
          // Each key-value pair is separated with an ampersand
          params = search.split('&'),
          i, kv;
      for (i = 0; i < params.length; i++) {
        // Keys are separated from values with an equals sign
        var kv = params[i].split('=');
        ret[kv[0]] = kv[1];
      };

      return ret;
    };

    // Only display posts on the search page that match the query
    var filterPosts = function(categoriesContainer, tagsContainer) {
      var params = parseSearchParameters(window.location.search.slice(1)),
          hasTag = params.tags !== undefined,
          hasCategory = params.category !== undefined,
          children, child, searchTerm, i;


      // 0 or more than 1 search terms were specified
      if ((!hasTag && !hasCategory) || hasTag && hasCategory) {
        tagsContainer.style.display = 'none';
        categoriesContainer.style.display = 'block';
        return;
      }

      // If we're here, there's only one search term
      if (hasCategory) {
        tagsContainer.style.display = 'none';
        categoriesContainer.style.display = 'block';
        children = categoriesContainer.children;
        searchTerm = decodeURI(params.category);
      }
      if (hasTag) {
        tagsContainer.style.display = 'block';
        categoriesContainer.style.display = 'none';
        children = tagsContainer.children;
        searchTerm = decodeURI(params.tags);
      }

      for (i = 0; i < children.length; i++) {
        child = children[i];
        child.style.display = decodeURI(child.dataset.name) === searchTerm ? 'display' : 'none';
      };
    };

    ready(function() {
      // If we're on the search page, get the index containers and filter them
      // based on the GET query
      if (window.location.pathname.slice(-SEARCH_PATH.length) === SEARCH_PATH) {
        var tagsContainer = document.querySelectorAll('.tag-index'),
            categoriesContainer = document.querySelectorAll('.category-index');

        // We need both containers for the method to work
        if (!tagsContainer.length !== 1 || categoriesContainer.length !== 1) {

          filterPosts(categoriesContainer[0], tagsContainer[0]);
        }
      }
    });
  })(window, window.document);
</script>
<!--         <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js">
    </script> -->

    </body>
</html>